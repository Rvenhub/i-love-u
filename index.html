<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏Ñ‡∏£‡πâ‡∏≤‡∏ö‡∏öüíñ</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&family=Sriracha&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CSS VARIABLES & THEMES --- */
        :root {
            --primary: #ff8fa3;
            --secondary: #ffb3c1;
            --bg-color: #fff0f3;
            --text-color: #590d22;
            --card-bg: rgba(255, 255, 255, 0.85);
            --font-main: 'Prompt', sans-serif;
            --font-hand: 'Sriracha', cursive;
            --transition: all 0.4s ease;
        }

        [data-theme="pastel"] {
            --primary: #b5e48c;
            --secondary: #d9ed92;
            --bg-color: #fcf6bd;
            --text-color: #283618;
        }

        [data-theme="dark"] {
            --primary: #ff758f;
            --secondary: #800f2f;
            --bg-color: #2b2d42;
            --text-color: #edf2f4;
            --card-bg: rgba(43, 45, 66, 0.9);
        }

        /* --- RESET & GLOBAL --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: var(--font-main);
            background: linear-gradient(135deg, var(--bg-color), var(--secondary));
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            transition: var(--transition);
        }

        button { cursor: pointer; font-family: var(--font-main); }
        .hidden { display: none !important; }
        .sr-only { position: absolute; width: 1px; height: 1px; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); }

        /* --- PARTICLES CANVAS --- */
        #particle-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 0;
        }

        /* --- LAYOUT --- */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- PAGES (SPA) --- */
        .page {
            display: none;
            animation: fadeIn 0.8s ease-out;
            padding-bottom: 80px; /* Space for music player */
        }
        .page.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideIn { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* --- TYPOGRAPHY --- */
        h1 { font-family: var(--font-hand); font-size: 2.5rem; text-align: center; margin-bottom: 1rem; color: var(--primary); text-shadow: 2px 2px 0px rgba(0,0,0,0.1); }
        h2 { font-size: 1.8rem; margin-bottom: 1rem; color: var(--text-color); }
        p { line-height: 1.6; margin-bottom: 1rem; }
        .typewriter { border-right: 2px solid var(--primary); white-space: pre-wrap; animation: blink 0.7s infinite; }
        @keyframes blink { 50% { border-color: transparent; } }

        /* --- COMPONENTS --- */
        .btn {
            background: var(--primary); color: white; border: none; padding: 12px 24px;
            border-radius: 50px; font-size: 1.1rem; font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.2s, box-shadow 0.2s;
            display: inline-block; text-align: center; margin: 10px 5px; width: 100%;
        }
        .btn:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 6px 20px rgba(0,0,0,0.15); }
        .btn:active { transform: scale(0.95); }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }

        .card {
            background: var(--card-bg); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 20px; margin-bottom: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        /* --- 1. INTRO --- */
        #intro { text-align: center; display: flex; flex-direction: column; justify-content: center; min-height: 90vh; }
        .hero-heart { font-size: 5rem; animation: float 3s ease-in-out infinite; display: block; margin-bottom: 20px; color: #ff4d6d; }

        /* --- 2. TIMELINE --- */
        .timeline { position: relative; padding-left: 30px; margin-top: 20px; }
        .timeline::before {
            content: ''; position: absolute; left: 0; top: 0; bottom: 0;
            width: 4px; background: var(--secondary); border-radius: 2px;
        }
        .timeline-item { position: relative; margin-bottom: 40px; animation: slideIn 0.6s ease-out backwards; }
        .timeline-item::before {
            content: 'üíñ'; position: absolute; left: -39px; top: 0;
            background: var(--bg-color); border-radius: 50%; padding: 5px; font-size: 1.2rem;
        }
        .timeline-img { width: 100%; border-radius: 15px; margin-top: 10px; transition: transform 0.3s; }
        .timeline-img:hover { transform: scale(1.03); }

        /* --- 3. GALLERY --- */
        .gallery-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .gallery-item {
            position: relative; overflow: hidden; border-radius: 15px; aspect-ratio: 1/1;
            cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .gallery-item:hover img { transform: scale(1.1) rotate(2deg); }
        .gallery-caption {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: rgba(0,0,0,0.6); color: white; padding: 5px;
            font-size: 0.8rem; text-align: center; opacity: 0; transition: 0.3s;
        }
        .gallery-item:hover .gallery-caption { opacity: 1; }

        /* --- 4. MINI GAME: MEMORY --- */
        .memory-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0; }
        .memory-card {
            aspect-ratio: 1/1; background: var(--secondary); border-radius: 10px;
            display: flex; align-items: center; justify-content: center; font-size: 2rem;
            cursor: pointer; transform-style: preserve-3d; transition: transform 0.6s;
            position: relative;
        }
        .memory-card.flipped { transform: rotateY(180deg); background: white; }
        .memory-card .front, .memory-card .back { position: absolute; backface-visibility: hidden; }
        .memory-card .back { transform: rotateY(180deg); }
        .memory-card .front { font-size: 1.5rem; color: white; }

        /* --- 5. MINI GAME: RHYTHM --- */
        #rhythm-canvas { background: rgba(0,0,0,0.1); border-radius: 15px; width: 100%; height: 300px; margin-bottom: 10px; position: relative; overflow: hidden; }
        .beat-line { position: absolute; bottom: 50px; width: 100%; height: 4px; background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .falling-heart { position: absolute; font-size: 2rem; color: #ff4d6d; }
        .hit-feedback { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; font-weight: bold; opacity: 0; pointer-events: none; }
        @keyframes pop { 0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); } 100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); } }

        /* --- 6. QUIZ --- */
        .quiz-option {
            background: white; border: 2px solid var(--secondary); padding: 15px;
            margin-bottom: 10px; border-radius: 12px; cursor: pointer; transition: 0.2s;
        }
        .quiz-option:hover { background: var(--bg-color); }
        .quiz-option.correct { background: #d4edda; border-color: #28a745; color: #155724; }
        .quiz-option.wrong { background: #f8d7da; border-color: #dc3545; color: #721c24; }

        /* --- 7. MUSIC PLAYER --- */
        .music-player {
            position: fixed; bottom: 20px; right: 20px; width: auto;
            background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
            padding: 10px 15px; border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: flex; align-items: center; gap: 10px; z-index: 100;
            border: 2px solid var(--primary);
            transition: 0.3s;
        }
        .music-player:hover { transform: scale(1.05); }
        .music-info { max-width: 150px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 0.8rem; }
        .music-controls button { background: none; border: none; font-size: 1.2rem; color: var(--primary); margin: 0 5px; }

        /* --- 8. SETTINGS --- */
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
        
        /* --- UTILS --- */
        .lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 1000; display: none;
            justify-content: center; align-items: center;
        }
        .lightbox img { max-width: 90%; max-height: 80vh; border-radius: 10px; box-shadow: 0 0 20px white; }
        .lightbox.active { display: flex; }

        /* Responsive */
        @media (min-width: 768px) {
            .container { padding: 40px; }
            .btn { width: auto; }
            .gallery-grid { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body>

    <canvas id="particle-canvas"></canvas>

    <audio id="bg-music" loop>
        <source src="C:\Users\acer\Downloads\scrubb - ‡∏£‡∏≠‡∏¢‡∏¢‡∏° (official music video).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div id="app" class="container">

        <section id="page-intro" class="page active">
            <div id="intro">
                <span class="hero-heart">üíñ</span>
                <h1 id="intro-title"></h1>
                <p id="intro-sub" style="opacity: 0;">‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡πâ‡∏≤‡∏≤‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡∏Å‡∏Å</p>
                <button class="btn" onclick="startSurprise()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢</button>
                <div style="margin-top: 20px;">
                    <button class="btn btn-outline" style="font-size: 0.9rem;" onclick="navigateTo('page-timeline')">‡∏î‡∏π‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥</button>
                </div>
            </div>
        </section>

        <section id="page-timeline" class="page">
            <h2>‚è≥ ‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
            <div class="timeline">
                <div class="timeline-item card">
                    <h3>üëÄ ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å</h3>
                    <p class="small text-muted">‡∏ß‡∏¥‡∏•‡∏±‡∏¢ / ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                    <img src="C:\Users\acer\Downloads\1.jpg" alt="‡∏£‡∏π‡∏õ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÄ‡∏°‡∏¢‡πå‡∏¢‡∏¥‡πâ‡∏°" class="timeline-img">
                    <p style="margin-top: 10px;">"‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏≠‡∏á‡πÄ‡∏°‡∏¢‡πå‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å"</p>
                </div>
                <div class="timeline-item card">
                    <h3>üê± ‡πÄ‡∏î‡∏ó‡πÅ‡∏£‡∏Å</h3>
                    <p class="small text-muted">‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏°‡∏ß</p>
                    <img src="C:\Users\acer\Downloads\2.jpg" alt="‡∏£‡∏π‡∏õ‡πÄ‡∏î‡∏ó‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏°‡∏ß" class="timeline-img">
                    <p style="margin-top: 10px;">"‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏°‡∏ß‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÄ‡∏°‡∏¢‡πå‡∏Å‡∏¥‡∏ô‡∏à‡∏ô ‡∏ó‡πâ‡∏≠‡∏á‡∏õ‡πà‡∏≠‡∏á ‡πÅ‡∏Å‡πâ‡∏°‡∏≠‡∏≠‡∏Å"</p>
                </div>
                <div class="timeline-item card">
                    <h3>üçû ‡πÇ‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©</h3>
                    <p class="small text-muted">‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏° / ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏õ‡∏¥‡πâ‡∏á</p>
                    <p>"‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏õ‡∏±‡πà‡∏ô‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏õ‡∏¥‡πâ‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏Å‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏ò‡∏≠"</p>
                </div>
            </div>
            <button class="btn" onclick="navigateTo('page-gallery')">‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏¢‡πå‡∏Å‡∏±‡∏ô üëâ</button>
            <button class="btn btn-outline" onclick="navigateTo('page-intro')">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
        </section>

        <section id="page-gallery" class="page">
            <h2>üì∑ ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏¢‡πå</h2>
            <p>‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏°‡∏¢‡πå‡∏à‡∏±‡∏á üíï</p>
            
            <div class="card" style="text-align: center; border-style: dashed;">
                <label for="img-upload" style="cursor: pointer; color: var(--primary);">
                    <i class="fas fa-cloud-upload-alt"></i> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏¢‡πå (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏•‡πà‡∏ô‡πÜ ‡πÑ‡∏î‡πâ)
                </label>
                <input type="file" id="img-upload" accept="image/*" class="hidden" onchange="handleImageUpload(this)">
            </div>

            <div class="gallery-grid" id="gallery-container">
                <div class="gallery-item" onclick="openLightbox(this)">
                    <img src=" C:\Users\acer\Downloads\6.jpg" alt="‡πÄ‡∏°‡∏¢‡πå‡∏¢‡∏¥‡πâ‡∏°">
                    <div class="gallery-caption">‡∏¢‡∏¥‡πâ‡∏°‡∏´‡∏ß‡∏≤‡∏ô</div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this)">
                    <img src="C:\Users\acer\Downloads\5.jpg" alt="‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà">
                    <div class="gallery-caption">‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏∞</div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this)">
                    <img src="C:\Users\acer\Downloads\4.jpg" alt="‡πÄ‡∏°‡∏¢‡πå‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å">
                    <div class="gallery-caption">‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this)">
                    <img src="C:\Users\acer\Downloads\3.jpg" alt="‡πÄ‡∏°‡∏¢‡πå‡πÅ‡∏Å‡πâ‡∏°‡∏õ‡πà‡∏≠‡∏á">
                    <div class="gallery-caption">‡πÅ‡∏Å‡πâ‡∏°‡∏õ‡πà‡∏≠‡∏á</div>
                </div>
            </div>
            <br>
            <button class="btn" onclick="navigateTo('page-game-memory')">‡πÑ‡∏õ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏Å‡∏±‡∏ô! üéÆ</button>
        </section>

        <section id="page-game-memory" class="page">
            <h2>üß† ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏¢‡πå</h2>
            <p>‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ô‡∏∞! <span id="memory-feedback"></span></p>
            <div class="memory-grid" id="memory-board"></div>
            <button class="btn hidden" id="memory-next-btn" onclick="navigateTo('page-game-rhythm')">‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡πÑ‡∏õ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ üëâ</button>
            <button class="btn btn-outline" onclick="initMemoryGame()">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
        </section>

        <section id="page-game-rhythm" class="page">
            <h2>üéµ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏´‡∏±‡∏ß‡πÉ‡∏à</h2>
            <p>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° ü©∑ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏•‡πà‡∏ô‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏™‡πâ‡∏ô!</p>
            <div class="card">
                <div id="rhythm-canvas">
                    <div class="beat-line"></div>
                    <div id="hit-msg" class="hit-feedback">PERFECT!</div>
                </div>
                <div style="text-align: center;">
                    <h3>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="rhythm-score">0</span></h3>
                    <button id="rhythm-btn" class="btn" style="width: 80px; height: 80px; border-radius: 50%; font-size: 2rem;">ü©∑</button>
                </div>
            </div>
            <button class="btn" onclick="startGameRhythm()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
            <button class="btn btn-outline" onclick="navigateTo('page-quiz')">‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Ñ‡∏ß‡∏¥‡∏ã üëâ</button>
        </section>

        <section id="page-quiz" class="page">
            <h2>‚ùì ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏¢‡πå</h2>
            <div id="quiz-container">
                </div>
            <p id="quiz-feedback" style="font-weight: bold; min-height: 1.5rem;"></p>
            <button class="btn hidden" id="quiz-next-btn" onclick="nextQuestion()">‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
            <button class="btn hidden" id="quiz-finish-btn" onclick="navigateTo('page-message')">‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡πÉ‡∏à‡∏à‡∏≤‡∏Å‡πÄ‡∏ö‡∏™ üíå</button>
        </section>

        <section id="page-message" class="page">
            <h2 style="text-align: center;">‡∏ñ‡∏∂‡∏á... ‡πÄ‡∏°‡∏¢‡πå‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á üíñ</h2>
            <div class="card" style="min-height: 400px; padding: 30px; position: relative; overflow: hidden;">
                <div id="final-message" class="typewriter" style="font-size: 1.1rem; line-height: 1.8; white-space: pre-line; border: none;">
                    </div>
                <i class="fas fa-heart" style="position: absolute; bottom: 20px; right: 20px; font-size: 3rem; color: rgba(255, 0, 100, 0.1);"></i>
            </div>
            <div style="text-align: center;">
                <button class="btn" onclick="navigateTo('page-intro')">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
                <button class="btn btn-outline" onclick="navigateTo('page-settings')">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
            </div>
        </section>

        <section id="page-settings" class="page">
            <h2>‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h2>
            <div class="card">
                <div class="setting-row">
                    <span>‡∏ò‡∏µ‡∏°‡∏™‡∏µ</span>
                    <select id="theme-select" onchange="changeTheme(this.value)" style="padding: 5px;">
                        <option value="default">‡∏ä‡∏°‡∏û‡∏π‡∏´‡∏ß‡∏≤‡∏ô (Default)</option>
                        <option value="pastel">‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏•‡∏™‡∏î‡πÉ‡∏™</option>
                        <option value="dark">‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î (Dark)</option>
                    </select>
                </div>
                <div class="setting-row">
                    <span>‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á</span>
                    <input type="file" id="music-upload" accept=".mp3" onchange="changeMusic(this)" style="max-width: 150px;">
                </div>
                <div class="setting-row">
                    <span>‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß</span>
                    <input type="checkbox" id="reduce-motion" onchange="toggleMotion()">
                </div>
                <button class="btn" style="background: #dc3545;" onclick="if(confirm('‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á?')) location.reload();">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà</button>
            </div>
            <button class="btn" onclick="navigateTo('page-intro')">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </section>

    </div>

    <div class="music-player">
        <div class="music-controls">
            <button onclick="togglePlay()"><i id="play-icon" class="fas fa-play"></i></button>
        </div>
        <div class="music-info">
            <span id="track-name">‡πÄ‡∏û‡∏•‡∏á: ‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏° - scrubb</span>
        </div>
        <div class="music-controls">
             <button onclick="toggleMute()"><i id="mute-icon" class="fas fa-volume-up"></i></button>
        </div>
    </div>

    <div id="lightbox" class="lightbox" onclick="this.classList.remove('active')">
        <img id="lightbox-img" src="" alt="Zoom">
    </div>

    <script>
        // --- GLOBAL VARIABLES ---
        const audio = document.getElementById('bg-music');
        let isPlaying = false;
        let reduceMotion = false;
        
        // --- NAVIGATION & INTRO ---
        function navigateTo(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0,0);

            // Special triggers
            if(pageId === 'page-message') startFinalMessage();
            if(pageId === 'page-game-memory') initMemoryGame();
        }

        function startSurprise() {
            // Try to play audio (User interaction required)
            initAudio();
            navigateTo('page-timeline');
        }

        // --- TYPEWRITER EFFECT ---
        function typeWriter(text, elementId, speed = 50, callback) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            element.style.borderRight = "2px solid var(--primary)";
            
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    element.style.borderRight = "none";
                    if(callback) callback();
                }
            }
            type();
        }

        // Init Intro Text
        window.onload = () => {
            typeWriter("‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏°‡∏≤‡∏ù‡∏≤‡∏Å üíñ", "intro-title", 100, () => {
                const sub = document.getElementById('intro-sub');
                sub.style.transition = "opacity 1s";
                sub.style.opacity = 1;
            });
            initParticles();
        };

        // --- AUDIO SYSTEM ---
        function initAudio() {
            audio.volume = 0.5;
            // Handle error if local path fails
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    isPlaying = true;
                    updatePlayerUI();
                }).catch(error => {
                    console.log("Audio Autoplay blocked or file not found.");
                    alert("‚ö†Ô∏è ‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏°‡πÄ‡∏ö‡∏™) \nüëâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏•‡∏á' ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏°‡∏¢‡πå‡∏ô‡∏∞");
                    isPlaying = false;
                    updatePlayerUI();
                });
            }
        }

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                isPlaying = true;
            } else {
                audio.pause();
                isPlaying = false;
            }
            updatePlayerUI();
        }

        function toggleMute() {
            audio.muted = !audio.muted;
            document.getElementById('mute-icon').className = audio.muted ? 'fas fa-volume-mute' : 'fas fa-volume-up';
        }

        function updatePlayerUI() {
            document.getElementById('play-icon').className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
        }

        function changeMusic(input) {
            if (input.files && input.files[0]) {
                const url = URL.createObjectURL(input.files[0]);
                audio.src = url;
                document.getElementById('track-name').innerText = "‡πÄ‡∏û‡∏•‡∏á: " + input.files[0].name;
                audio.play();
                isPlaying = true;
                updatePlayerUI();
            }
        }

        // --- GALLERY ---
        function handleImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                if(file.size > 5 * 1024 * 1024) {
                    alert("‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB ‡∏•‡∏≠‡∏á‡∏¢‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞");
                    return;
                }
                const reader = new FileReader();
                reader.onload = function(e) {
                    const div = document.createElement('div');
                    div.className = 'gallery-item';
                    div.onclick = function() { openLightbox(this); };
                    div.innerHTML = `<img src="${e.target.result}" alt="User Upload"><div class="gallery-caption">‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà!</div>`;
                    document.getElementById('gallery-container').prepend(div);
                }
                reader.readAsDataURL(file);
            }
        }

        function openLightbox(el) {
            const imgSrc = el.querySelector('img').src;
            document.getElementById('lightbox-img').src = imgSrc;
            document.getElementById('lightbox').classList.add('active');
        }

        // --- MINI GAME 1: MEMORY ---
        const memoryItems = ['üê±', 'üíñ', 'üç¶', 'üíë', 'üíç', 'üéµ']; 
        let flippedCards = [];
        let matchedPairs = 0;

        function initMemoryGame() {
            const board = document.getElementById('memory-board');
            board.innerHTML = '';
            flippedCards = [];
            matchedPairs = 0;
            document.getElementById('memory-next-btn').classList.add('hidden');
            document.getElementById('memory-feedback').innerText = "";

            // Duplicate and Shuffle
            const deck = [...memoryItems, ...memoryItems].sort(() => 0.5 - Math.random());

            deck.forEach(emoji => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.emoji = emoji;
                card.innerHTML = `<div class="front">?</div><div class="back">${emoji}</div>`;
                card.onclick = () => flipCard(card);
                board.appendChild(card);
            });
        }

        function flipCard(card) {
            if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
                card.classList.add('flipped');
                flippedCards.push(card);
                
                if (flippedCards.length === 2) {
                    checkMatch();
                }
            }
        }

        function checkMatch() {
            const [c1, c2] = flippedCards;
            if (c1.dataset.emoji === c2.dataset.emoji) {
                matchedPairs++;
                document.getElementById('memory-feedback').innerText = "‡πÅ‡∏°‡∏ó‡∏ä‡πå‡πÅ‡∏•‡πâ‡∏ß! ‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏¢‡πå üíñ";
                flippedCards = [];
                confettiEffect();
                if (matchedPairs === memoryItems.length) {
                    document.getElementById('memory-feedback').innerText = "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡πÄ‡∏•‡∏¢ ‡πÄ‡∏°‡∏¢‡πå!";
                    document.getElementById('memory-next-btn').classList.remove('hidden');
                }
            } else {
                document.getElementById('memory-feedback').innerText = "‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡∏∞";
                setTimeout(() => {
                    c1.classList.remove('flipped');
                    c2.classList.remove('flipped');
                    flippedCards = [];
                }, 1000);
            }
        }

        // --- MINI GAME 2: RHYTHM (Simplified) ---
        let rhythmScore = 0;
        let gameInterval;
        let isGameRunning = false;

        function startGameRhythm() {
            if(isGameRunning) return;
            isGameRunning = true;
            rhythmScore = 0;
            document.getElementById('rhythm-score').innerText = rhythmScore;
            
            const canvas = document.getElementById('rhythm-canvas');
            // Remove old hearts
            document.querySelectorAll('.falling-heart').forEach(e => e.remove());

            // Spawn hearts loop
            gameInterval = setInterval(() => {
                if(!isGameRunning) return;
                spawnHeart(canvas);
            }, 1000);

            // Button listener
            document.getElementById('rhythm-btn').onclick = () => checkHit();
        }

        function spawnHeart(container) {
            const heart = document.createElement('div');
            heart.className = 'falling-heart';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 80 + 10 + '%';
            heart.style.top = '-50px';
            container.appendChild(heart);

            let pos = -50;
            const speed = 3; 
            const fall = setInterval(() => {
                if(!isGameRunning) { clearInterval(fall); return; }
                pos += speed;
                heart.style.top = pos + 'px';
                
                // Missed
                if(pos > 300) {
                    clearInterval(fall);
                    if(heart.parentNode) heart.remove();
                    showFeedback("MISS");
                }
            }, 20);
            
            // Tag interval to element to clear later if needed
            heart.dataset.interval = fall;
        }

        function checkHit() {
            const hearts = document.querySelectorAll('.falling-heart');
            const lineY = 250; // Approximated position of line inside 300px container (bottom: 50px)
            let hit = false;

            hearts.forEach(h => {
                const rect = h.getBoundingClientRect(); // Global coords
                // Since this is relative, let's just use top style parsing for simplicity in single file
                const topVal = parseInt(h.style.top);
                
                // Hit window: 230px to 270px
                if (topVal >= 220 && topVal <= 280) {
                    hit = true;
                    rhythmScore += 100;
                    document.getElementById('rhythm-score').innerText = rhythmScore;
                    h.remove();
                    showFeedback("PERFECT!");
                    confettiEffect();
                }
            });

            if(!hit) showFeedback("...");
        }

        function showFeedback(text) {
            const msg = document.getElementById('hit-msg');
            msg.innerText = text;
            msg.style.animation = 'none';
            msg.offsetHeight; /* trigger reflow */
            msg.style.animation = 'pop 0.5s ease-out';
        }

        // --- QUIZ ---
        const quizData = [
            { q: "‡πÄ‡∏°‡∏¢‡πå‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡πâ‡∏≤‡∏≤‡∏≤", a: ["‡∏Ç‡πâ‡∏≤‡∏ß‡∏ï‡πâ‡∏°", "‡∏Ç‡∏ô‡∏°", "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î", "‡∏ú‡∏•‡πÑ‡∏°‡πâ"], correct: 1 },
            { q: "‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏¢‡πå‡∏ä‡∏≠‡∏ö?", a: ["‡∏ä‡∏°‡∏û‡∏π", "‡∏°‡πà‡∏ß‡∏á", "‡∏Ç‡∏≤‡∏ß", "‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"], correct: 0 },
            { q: "‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏¢‡πå‡∏ä‡∏≠‡∏ö‡∏ö", a: ["‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°", "EDM", "‡∏Æ‡∏¥‡∏õ‡∏Æ‡∏≠‡∏õ", "‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á"], correct: 0 },
            { q: "‡πÄ‡∏î‡∏ó‡πÅ‡∏£‡∏Å‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?", a: ["‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏°‡∏ß", "‡πÇ‡∏£‡∏á‡∏´‡∏ô‡∏±‡∏á", "‡∏™‡∏ß‡∏ô", "‡∏´‡πâ‡∏≤‡∏á"], correct: 0 },
            { q: "‡πÄ‡∏°‡∏¢‡πå‡∏ä‡∏≠‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô?", a: ["‡πÅ‡∏°‡∏ß", "‡∏´‡∏°‡∏≤", "‡∏ô‡∏Å", "‡∏õ‡∏•‡∏≤"], correct: 0 }
        ];
        let currentQ = 0;

        function loadQuiz() {
            const q = quizData[currentQ];
            const container = document.getElementById('quiz-container');
            let html = `<h3>${currentQ + 1}. ${q.q}</h3>`;
            q.a.forEach((ans, index) => {
                html += `<div class="quiz-option" onclick="checkAnswer(${index}, this)">${ans}</div>`;
            });
            container.innerHTML = html;
            document.getElementById('quiz-feedback').innerText = "";
            document.getElementById('quiz-next-btn').classList.add('hidden');
        }

        function checkAnswer(index, el) {
            // Disable clicks
            const opts = document.querySelectorAll('.quiz-option');
            opts.forEach(o => o.style.pointerEvents = 'none');

            if(index === quizData[currentQ].correct) {
                el.classList.add('correct');
                document.getElementById('quiz-feedback').innerText = "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏¢‡πå! ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏à‡∏£‡∏¥‡∏á ‡πÜ üíï";
                document.getElementById('quiz-feedback').style.color = "green";
                confettiEffect();
            } else {
                el.classList.add('wrong');
                opts[quizData[currentQ].correct].classList.add('correct');
                document.getElementById('quiz-feedback').innerText = "‡∏≠‡πã‡∏≠ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏≠‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô... ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏ô‡∏∞";
                document.getElementById('quiz-feedback').style.color = "red";
            }

            if(currentQ < quizData.length - 1) {
                document.getElementById('quiz-next-btn').classList.remove('hidden');
            } else {
                document.getElementById('quiz-finish-btn').classList.remove('hidden');
            }
        }

        function nextQuestion() {
            currentQ++;
            loadQuiz();
        }
        
        // Init Quiz on load (wait for call)
        loadQuiz();

        // --- END MESSAGE ---
        function startFinalMessage() {
            const msg = `‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞ ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏≥‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢
            
            ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏°‡∏¢‡πå‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‚Ä¶ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏ô ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ ‡πÄ‡∏™‡∏°‡∏≠
            ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
            
            ‡πÅ‡∏•‡∏∞‡∏Å‡πá‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‚Ä¶ ‡πÄ‡∏°‡∏¢‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤ üíñ
            ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á ‡∏£‡∏±‡∏Å‡πÄ‡∏°‡∏¢‡πå ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏°‡∏¢‡πå‡∏¢‡∏¥‡πâ‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠
            
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏Ñ‡πâ‡∏≤ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç
            ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡πÄ‡∏°‡∏¢‡πå‡∏ô‡∏∞ üíï ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏à‡∏∞‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ`;

            typeWriter(msg, 'final-message', 40);
        }

        // --- SETTINGS ---
        function changeTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
        }
        function toggleMotion() {
            reduceMotion = !reduceMotion;
            // Stop particles if reduced motion
        }

        // --- VISUAL EFFECTS (CONFETTI & PARTICLES) ---
        function confettiEffect() {
            if(reduceMotion) return;
            for(let i=0; i<30; i++) {
                const conf = document.createElement('div');
                conf.style.position = 'fixed';
                conf.style.left = Math.random() * 100 + 'vw';
                conf.style.top = '-10px';
                conf.style.width = '10px';
                conf.style.height = '10px';
                conf.style.backgroundColor = ['#ff0', '#f0f', '#0ff', '#0f0'][Math.floor(Math.random()*4)];
                conf.style.zIndex = '9999';
                conf.style.transition = 'top 1s ease-in, opacity 1s';
                document.body.appendChild(conf);

                setTimeout(() => {
                    conf.style.top = '100vh';
                    conf.style.opacity = '0';
                }, 10);
                setTimeout(() => conf.remove(), 1100);
            }
        }

        // Simple Canvas Particles
        function initParticles() {
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            for(let i=0; i<20; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 20 + 10, // Heart size
                    speedY: Math.random() * 1 + 0.5,
                    opacity: Math.random() * 0.5 + 0.1
                });
            }

            function animate() {
                if(reduceMotion) return;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.font = "20px Arial";
                
                particles.forEach(p => {
                    p.y -= p.speedY;
                    if(p.y < -20) p.y = canvas.height + 20;
                    
                    ctx.globalAlpha = p.opacity;
                    ctx.fillStyle = "#ffb3c1";
                    ctx.fillText("‚ù§Ô∏è", p.x, p.y); // Draw heart emoji
                });
                
                requestAnimationFrame(animate);
            }
            animate();
            
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

    </script>
</body>
</html>
